<html>

<head>
    <title>Location List with M365 Status</title>

    <style>
        table,
        th,
        td {
            border: 2px solid black;
            border-collapse: collapse;
        }

        th,
        td {
            padding: 10px;
        }
    </style>
</head>

<body>

    <h1>Samsa Named Location DDNS Update Applicaton</h1>
    <ul>
        <li><a href="{{ url_for('admin_get') }}">Return to Admin Page</a><br></li>
        <li><a href="{{ url_for('list_get') }}">See List of Locations</a><br></li>
        <li><a href="{{ url_for('list_get_m365') }}">See List of Locations with Up to Date Microsoft Status</a><br></li>
        <li><a href="{{ url_for('add_location_get') }}">Add a new Location</a><br></li>
    </ul>
    <h2>Location List with M365 Status</h2>
    <table>
        <tr>
            <th><label>Location ID</label></th>
            <th><label>Display Name</label></td>
            <th><label>IP Address</label></th>
            <th><label>Is Trusted</label></th>
            <th><label>M365 IP Address</label></th>
            <th><label>M365 Is Trusted</label></th>
        </tr>
        {% for config in configs %}
        <tr>
            <td><label>{{ config[0].location_id }}</label></td>
            <td><label>{{ config[0].display_name }}</label></td>
            <td><label>{{ config[0].ip_address }}</label></td>
            <td><label>{{ config[0].is_trusted }}</label></td>
            {% if config[0].ip_address != config[1].ip_address %}<td style="background-color: #f76c6c">
                {% else %}
            <td>
                {% endif %}
                <label>{{config[1].ip_address }}</label>
            </td>
            {% if config[0].is_trusted != config[1].is_trusted %}<td style="background-color: #f76c6c">
                {% else %}
            <td>
                {% endif %}
                <label>{{ config[1].is_trusted }}</label>
            </td>
            <td><a href="{{ url_for('edit_location_get', id_number=config[0].location_id) }}">Edit Location</a></td>
            <td><a href="{{ url_for('update_location_get', id_number=config[0].location_id) }}">Update Microsoft</a>
            </td>
        </tr>
        <tr></tr>
        {% endfor %}
        </form>
    </table>
    <br><br>
</body>

</html>